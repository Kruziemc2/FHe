<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¦æ™‚è§€æ¸¬æ•¸æ“š | Data Analysis & Real-Time Space Data</title>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { background-color: black; color: white; font-family: Arial, sans-serif; text-align: center; }
        h1, h2 { color: white; }
        p { color: white; max-width: 900px; margin: 0 auto; text-align: justify; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; }
        .box { width: 45%; margin: 10px; padding: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
        canvas { max-width: 100%; background: white; border-radius: 5px; }
        .contact { margin-top: 40px; }
        .contact a { color: #1e90ff; margin: 0 10px; text-decoration: none; }
        .nav { text-align: center; margin-bottom: 20px; }
        .nav a { color: #00bfff; margin: 0 15px; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>å¯¦æ™‚è§€æ¸¬æ•¸æ“š | Data Analysis & Real-Time Space Data</h1>
    <div class="nav">
        ğŸ”™ <a href="../index.html">é¦–é  | Home</a> |
        â˜€ï¸ <a href="Solar_Data.html">å¤ªé™½æ•¸æ“š | Solar Data</a> |
        ğŸŒ <a href="Earth_Data.html">åœ°çƒæ•¸æ“š | Earth Data</a> |
        ğŸŒ‘ <a href="Moon_Data.html">æœˆçƒæ•¸æ“š | Moon Data</a>
    </div>
</header>

<section>
    <h2>ğŸ“Œ ä¸»è¦è§€æ¸¬æ•¸æ“š | Key Observational Data</h2>
    <p>
        æ­¤é é¢æä¾›ä¾†è‡ªå®˜æ–¹æ©Ÿæ§‹çš„å³æ™‚æ•¸æ“šï¼ŒåŒ…æ‹¬ **NASAã€NOAAã€ESAã€USGS**ï¼Œæ•¸æ“šä¾†è‡ªå„ç¨®ç›£æ¸¬è¡›æ˜Ÿèˆ‡æ¢æ¸¬å™¨ï¼Œä¸¦æœƒ **æ¯ 15 ç§’è‡ªå‹•æ›´æ–°**ã€‚
    </p>
</section>

<div class="container">
    <div class="box">
        <h2>ğŸŒ å¤ªé™½é¢¨æ•¸æ“š | Solar Wind Data</h2>
        <p>ä¾†è‡ª NASA ACE è¡›æ˜Ÿ (Advanced Composition Explorer) çš„æœ€æ–°æ•¸æ“šï¼š</p>
        <iframe src="https://services.swpc.noaa.gov/images/ace-swepam-density.gif" width="100%" height="300px"></iframe>
        <p>â˜€ï¸ å¤ªé™½é¢¨é€Ÿåº¦: <span id="solar_wind_speed">Loading...</span> km/s</p>
        <p>âš¡ é›»æ¼¿å¯†åº¦: <span id="solar_wind_density">Loading...</span> p/cmÂ³</p>
    </div>

    <div class="box">
        <h2>ğŸŒ åœ°çƒç£å ´è®ŠåŒ– | Earth's Magnetic Field</h2>
        <p>ä¾†è‡ª NOAA çš„åœ°ç£æŒ‡æ•¸åœ–è¡¨ï¼š</p>
        <iframe src="https://services.swpc.noaa.gov/images/planetary-k-index.gif" width="100%" height="300px"></iframe>
        <p>ğŸŒ K æŒ‡æ•¸: <span id="k_index">Loading...</span></p>
    </div>
</div>

<div class="container">
    <div class="box">
        <h2>ğŸ“ˆ å¤ªé™½é»‘å­æ•¸é‡ | Sunspot Activity</h2>
        <canvas id="sunspot_chart"></canvas>
    </div>

    <div class="box">
        <h2>ğŸš€ åœ‹éš›å¤ªç©ºç«™ä½ç½® | ISS Live Location</h2>
        <p>å³æ™‚è¿½è¹¤åœ‹éš›å¤ªç©ºç«™ (ISS) ä½ç½®ï¼š</p>
        <iframe src="https://www.n2yo.com/iframe/?s=25544&c=iss" width="100%" height="300px"></iframe>
    </div>
</div>

<script>
    async function fetchData() {
        // API Key
        const apiKey = "UlxbY1TIgdhFZkW4FgeIcrOa3Ttb4TVYU4W3nV3S";  // è«‹æ›¿æ›ç‚ºä½ çš„ API Key

        // 1. ç²å–å¤ªé™½é¢¨æ•¸æ“š (Solar Wind Data)
        const solarWindUrl = `https://api.nasa.gov/DONKI/FLR?api_key=${apiKey}`;
        let solarWindResponse = await fetch(solarWindUrl);
        let solarWindData = await solarWindResponse.json();
        document.getElementById("solar_wind_speed").innerText = solarWindData[0]?.speed || "N/A";
        document.getElementById("solar_wind_density").innerText = solarWindData[0]?.density || "N/A";

        // 2. ç²å–åœ°ç£å ´ K æŒ‡æ•¸ (Kp Index)
        const geomagneticUrl = `https://api.nasa.gov/DONKI/GST?api_key=${apiKey}`;
        let geoResponse = await fetch(geomagneticUrl);
        let geoData = await geoResponse.json();
        document.getElementById("k_index").innerText = geoData[0]?.kp_index || "N/A";

        // 3. æ›´æ–°å¤ªé™½é»‘å­æ•¸æ“š
        updateSunspotChart();
    }

    function updateSunspotChart() {
        let ctx = document.getElementById('sunspot_chart').getContext('2d');
        let sunspotChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
                datasets: [{
                    label: 'Sunspot Number',
                    data: [45, 30, 60, 80, 75, 50], // é€™äº›æ•¸æ“šæ‡‰è©²ä¾†è‡ª API
                    borderColor: 'yellow',
                    borderWidth: 2
                }]
            },
            options: { responsive: true }
        });
    }

    // æ¯ 15 ç§’æ›´æ–°æ•¸æ“š
    setInterval(fetchData, 15000);
    fetchData();
</script>

<footer class="contact">
    <p>å‰µä½œè€… | Author: Kru, Yupin Su.</p>
    <p>ğŸ“§ Email: kruzi.eemc2@gmail.com | ğŸ”— <a href="#">LinkedIn</a> | <a href="#">Facebook</a> | <a href="#">Instagram</a></p>
</footer>

</body>
</html>
